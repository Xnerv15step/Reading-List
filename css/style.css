/* ============================================================
   全域重置
   清除瀏覽器預設的 margin / padding，
   並將寬度計算模式改為 border-box（padding 不額外增加寬度）
============================================================ */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}


/* ============================================================
   body：全站基本外觀
============================================================ */
body {
  font-family: 'Segoe UI', sans-serif;
  background: #1a1a2e;    /* 深藍紫背景 */
  color: #e0e0e0;          /* 全站預設淺灰文字 */
  min-height: 100vh;       /* 確保背景至少撐滿整個視窗高度 */
  padding: 40px 24px 64px; /* 上留白 / 左右留白 / 底部留白（避免被 Toast 遮住） */
}


/* ============================================================
   頁面主標題 h1
============================================================ */
h1 {
  text-align: center;
  font-size: 2rem;
  margin-bottom: 28px;
  letter-spacing: 2px;  /* 字距拉開，視覺較寬鬆 */
  color: #fff;
}

/* 標題內的 <span>（「清單」二字）單獨上色為亮藍 */
h1 span {
  color: #00BFFF;
  display: inline;  /* 保持行內排列，不獨立成一行 */
}


/* ============================================================
   統計面板（.stats）
   四張卡片以 CSS Grid 等寬排列
============================================================ */
.stats {
  max-width: 860px;       /* 與主表格等寬 */
  margin: 0 auto 24px;   /* 水平置中，下方留白 24px */
  display: grid;
  grid-template-columns: repeat(4, 1fr);  /* 四等分欄 */
  gap: 12px;
}

/* 每張統計卡片 */
.stat-card {
  background: #16213e;    /* 深藍卡片背景 */
  border-radius: 12px;
  padding: 14px 18px;
  text-align: center;
  box-shadow: 0 4px 16px rgba(0, 0, 0, .3);
  border: 1px solid rgba(255, 255, 255, .06); /* 極細白色邊框，增加質感 */
}

/* 統計數字（大字） */
.stat-card .val {
  font-size: 1.8rem;
  font-weight: 700;
  line-height: 1;
  margin-bottom: 4px;
}

/* 統計標籤（小字，全大寫） */
.stat-card .lbl {
  font-size: 11px;
  letter-spacing: 1px;
  color: #888;
  text-transform: uppercase;
}

/* 各卡片數字顏色依語意區分，一眼辨別 */
.stat-card.total .val { color: #00BFFF; }  /* 亮藍：總計 */
.stat-card.read  .val { color: #00cec9; }  /* 青綠：已讀 */
.stat-card.prog  .val { color: #e17055; }  /* 橙色：進行中 */
.stat-card.toread .val{ color: #6c63ff; }  /* 紫色：待讀 */


/* ============================================================
   工具列（.toolbar）
   Flexbox 水平排列，可自動換行（小螢幕適用）
============================================================ */
.toolbar {
  max-width: 860px;
  margin: 0 auto 14px;
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;  /* 螢幕不夠寬時自動換行 */
}

/* 搜尋欄外層容器（相對定位，讓內部圖示可絕對定位） */
.search-wrap {
  position: relative;
  flex: 1;           /* 自動填滿剩餘空間 */
  min-width: 160px;  /* 最小寬度，避免過窄 */
}

/* 搜尋輸入框 */
.search-wrap input {
  width: 100%;
  padding: 8px 12px 8px 34px;  /* 左側留 34px 給放大鏡圖示 */
  background: #16213e;
  border: 1px solid rgba(255, 255, 255, .12);
  border-radius: 20px;          /* 膠囊形狀 */
  color: #e0e0e0;
  font-size: 13px;
  outline: none;                /* 移除瀏覽器預設藍框 */
  transition: border-color .2s;
}

/* 聚焦時邊框變亮藍，給使用者明確的視覺回饋 */
.search-wrap input:focus { border-color: #00BFFF; }

/* 放大鏡圖示（絕對定位於輸入框左側） */
.search-wrap .ico {
  position: absolute;
  left: 11px;
  top: 50%;
  transform: translateY(-50%); /* 垂直置中對齊輸入框 */
  font-size: 14px;
  opacity: .4;
  pointer-events: none;        /* 不接受滑鼠事件，點擊可穿透到輸入框 */
}

/* 篩選下拉選單（狀態 / 評分） */
.filter-select {
  padding: 8px 12px;
  background: #16213e;
  border: 1px solid rgba(255, 255, 255, .12);
  border-radius: 20px;
  color: #e0e0e0;
  font-size: 13px;
  outline: none;
  cursor: pointer;
  transition: border-color .2s;
}
.filter-select:focus { border-color: #00BFFF; }
.filter-select option { background: #16213e; } /* 防止選項背景被系統樣式覆蓋 */

/* 新增書籍按鈕 */
.btn-add {
  background: linear-gradient(to right, #00b894, #00cec9); /* 綠→青漸層 */
  border: none;
  color: #003d35;       /* 深綠文字，確保對比度 */
  font-weight: 700;
  font-size: 13px;
  padding: 8px 18px;
  border-radius: 20px;
  cursor: pointer;
  letter-spacing: 1px;
  white-space: nowrap;  /* 防止文字換行 */
  transition: opacity .2s;
}
.btn-add:hover { opacity: .85; }


/* ============================================================
   主表格（table）
============================================================ */
table {
  width: 100%;
  max-width: 860px;
  margin: 0 auto;
  border-collapse: collapse; /* 合併相鄰格線，避免雙重邊框 */
  border-radius: 12px;
  overflow: hidden;          /* 讓 border-radius 對表格生效（需搭配 overflow:hidden） */
  box-shadow: 0 8px 32px rgba(0, 0, 0, .4);
}

/* 表頭列背景 */
thead tr { background: #16213e; }

/* 表頭欄位（可點擊排序） */
th {
  padding: 14px 20px;
  text-align: left;
  font-size: 13px;
  letter-spacing: 1.5px;
  text-transform: uppercase;  /* 全大寫，表頭更正式 */
  color: #00BFFF;
  cursor: pointer;
  user-select: none;  /* 拖曳時不選取文字 */
  white-space: nowrap;
}
th:last-child { cursor: default; } /* 操作欄不可排序，使用一般指標 */
th:hover:not(:last-child) { color: #fff; } /* 懸停時文字變白 */

/* 排序箭頭圖示 */
th .sort-icon {
  margin-left: 6px;
  font-size: 11px;
  opacity: .5; /* 非目前排序欄時半透明 */
}
/* 目前排序欄位的箭頭完全不透明 */
th.active .sort-icon { opacity: 1; color: #fff; }

/* 避免全域 span 影響到其他地方 */
span { display: inline-block; }

/* ── 各列依閱讀狀態套用不同漸層背景 ──
   使用屬性選擇器 [class="..."] 精確比對 class 值，
   避免多 class 時誤觸 */
tr[class="read"]        { background-image: linear-gradient(to right, #0f3d2e, #1a5c3a); } /* 深綠漸層 */
tr[class="to-read"]     { background-image: linear-gradient(to right, #1a1a3e, #16213e); } /* 深藍漸層 */
tr[class="in-progress"] { background-image: linear-gradient(to right, #2e1a0f, #4a2c0a); } /* 深橙棕漸層 */

/* 一般資料格 */
td {
  padding: 14px 20px;
  font-size: 15px;
  border-bottom: 1px solid rgba(255, 255, 255, .05); /* 極細分隔線 */
  vertical-align: middle;
}
tr:last-child td { border-bottom: none; } /* 最後一列不顯示底線 */

/* 滑鼠移入列時提亮（filter: brightness 比改 background 效能更好） */
tr:hover td { filter: brightness(1.15); transition: filter .2s; }

/* 找不到結果時的提示列 */
.empty-row td {
  text-align: center;
  color: #555;
  font-size: 14px;
  padding: 32px;
}


/* ============================================================
   狀態標籤（span.status）與評分圓點（span.rate）共用基底
   ── 注意：這裡兩種 span 共用尺寸 / 圓角等基礎屬性 ──
============================================================ */
span[class="status"],
span[class^="rate"] {        /* [class^="rate"] 選取 class 以 "rate" 開頭的元素 */
  height: 28px;
  width: 90px;
  padding: 4px 8px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: .5px;
  text-align: center;
  line-height: 20px;
}

/* ── 各狀態標籤個別顏色 ── */

/* 已讀：綠色漸層 */
tr[class="read"] span[class="status"] {
  background-image: linear-gradient(to right, #00b894, #00cec9);
  border: 1.5px solid #00cec9;
  color: #003d35;
}

/* 待讀：紫色漸層 */
tr[class="to-read"] span[class="status"] {
  background-image: linear-gradient(to right, #4a4a8a, #6c63ff);
  border: 1.5px solid #6c63ff;
  color: #e0e0ff;
}

/* 進行中：橙色漸層 */
tr[class="in-progress"] span[class="status"] {
  background-image: linear-gradient(to right, #e17055, #d35400);
  border: 1.5px solid #e17055;
  color: #fff0e0;
}


/* ============================================================
   評分圓點（span.rate）
   三個子 <span> 代表三顆圓點，CSS 選擇器控制填色數量：
     .one   → 第 1 顆填色
     .two   → 前 2 顆填色
     .three → 全部填色
============================================================ */

/* 覆寫共用基底：評分圓點不需要背景色與邊框 */
span[class^="rate"] {
  width: auto;
  height: auto;
  padding: 0;
  background: none;
  border: none;
}

/* 每個圓點的預設樣式（未評分狀態：半透明灰） */
span[class^="rate"] > span {
  border: 1.5px solid rgba(255, 255, 255, .2);
  height: 14px;
  width: 14px;
  background-color: rgba(255, 255, 255, .1);
  margin: 2px;
  border-radius: 50%; /* 正圓形 */
}

/* 評分填色規則（橙黃漸層）：
   .one   → span:first-child           （第 1 顆）
   .two   → span:nth-child(-n+2)       （第 1–2 顆）
   .three → span（不加限制，全選）     （第 1–3 顆）*/
span[class~="one"]   span:first-child,
span[class~="two"]   span:nth-child(-n+2),
span[class~="three"] span {
  background-image: linear-gradient(to bottom, #fdcb6e, #e17055);
  border-color: #e17055;
}


/* ============================================================
   操作欄（.action-cell）：編輯 / 刪除按鈕
   預設隱藏（opacity: 0），滑鼠移入列時才顯示
============================================================ */
.action-cell {
  white-space: nowrap;   /* 防止按鈕換行 */
  opacity: 0;
  transition: opacity .2s;
}
tr:hover .action-cell { opacity: 1; }

/* 編輯 / 刪除按鈕共用基底 */
.btn-edit,
.btn-del {
  border-radius: 12px;
  font-size: 11px;
  font-weight: 700;
  padding: 4px 10px;
  cursor: pointer;
  letter-spacing: .5px;
  transition: opacity .2s;
}

/* 編輯按鈕：藍色半透明 */
.btn-edit {
  background: rgba(0, 191, 255, .15);
  color: #00BFFF;
  border: 1px solid #00BFFF;
  margin-right: 6px;
}

/* 刪除按鈕：橙色半透明 */
.btn-del {
  background: rgba(225, 112, 85, .15);
  color: #e17055;
  border: 1px solid #e17055;
}

.btn-edit:hover,
.btn-del:hover { opacity: .75; }


/* ============================================================
   Toast 提示訊息（右下角）
   使用 opacity + transform 實現滑入滑出動畫；
   預設隱藏（opacity: 0），JS 加上 .show class 後顯示
============================================================ */
.toast {
  position: fixed;       /* 固定在視窗，不隨頁面滾動 */
  bottom: 24px;
  right: 24px;
  background: #00b894;
  color: #003d35;
  font-size: 13px;
  font-weight: 700;
  letter-spacing: .5px;
  padding: 10px 20px;
  border-radius: 20px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, .4);
  opacity: 0;
  transform: translateY(12px); /* 預設向下偏移，顯示時歸位（產生上滑感） */
  transition: opacity .3s, transform .3s;
  pointer-events: none;        /* 不阻擋下方元素的點擊事件 */
  z-index: 200;
}

/* JS 呼叫 classList.add("show") 後觸發淡入上滑動畫 */
.toast.show {
  opacity: 1;
  transform: translateY(0);
}


/* ============================================================
   Modal 對話框
   .overlay：全版遮罩（半透明黑），預設 display: none。
   加上 .open class 後切換為 display: flex，使對話框居中。
============================================================ */
.overlay {
  display: none;
  position: fixed;
  inset: 0;                     /* top/right/bottom/left 全為 0，覆蓋整個視窗 */
  background: rgba(0, 0, 0, .65);
  z-index: 100;
  align-items: center;
  justify-content: center;
}
.overlay.open { display: flex; }

/* Modal 主體卡片 */
.modal {
  background: #16213e;
  border-radius: 16px;
  padding: 32px 28px;
  width: 100%;
  max-width: 420px;
  box-shadow: 0 16px 48px rgba(0, 0, 0, .6);
}

/* Modal 標題 */
.modal h2 {
  color: #00BFFF;
  font-size: 1.2rem;
  margin-bottom: 24px;
  letter-spacing: 1px;
}

/* 表單欄位群組（label + input/select） */
.form-group { margin-bottom: 16px; }

.form-group label {
  display: block;
  font-size: 12px;
  letter-spacing: 1px;
  color: #aaa;
  margin-bottom: 6px;
  text-transform: uppercase;
}

.form-group input,
.form-group select {
  width: 100%;
  padding: 9px 12px;
  background: #0f3460;   /* 略深的藍，與 Modal 背景區分 */
  border: 1px solid rgba(255, 255, 255, .12);
  border-radius: 8px;
  color: #e0e0e0;
  font-size: 14px;
  outline: none;
  transition: border-color .2s;
}
.form-group input:focus,
.form-group select:focus { border-color: #00BFFF; }
.form-group select option { background: #0f3460; }


/* ============================================================
   星星評分選擇器（.star-picker）
   三顆圓形按鈕，選中後填充橙黃漸層
============================================================ */
.star-picker {
  display: flex;
  gap: 8px;
  margin-top: 4px;
}

/* 星星按鈕（預設未選中：透明背景、灰色圖示） */
.star-btn {
  background: none;
  border: 1.5px solid rgba(255, 255, 255, .2);
  border-radius: 50%; /* 正圓形按鈕 */
  width: 28px;
  height: 28px;
  cursor: pointer;
  font-size: 14px;
  line-height: 26px;
  text-align: center;
  color: rgba(255, 255, 255, .25);
  transition: all .15s;
}

/* 已選中的星星（JS 加上 .active class） */
.star-btn.active {
  background: linear-gradient(to bottom, #fdcb6e, #e17055); /* 橙黃漸層 */
  border-color: #e17055;
  color: #fff;
}


/* ============================================================
   Modal 底部操作按鈕列（取消 / 儲存）
============================================================ */
.modal-actions {
  display: flex;
  justify-content: flex-end; /* 靠右對齊 */
  gap: 10px;
  margin-top: 24px;
}

/* 取消按鈕：低調的半透明白 */
.btn-cancel {
  background: rgba(255, 255, 255, .08);
  border: none;
  color: #aaa;
  padding: 9px 18px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 13px;
}

/* 儲存按鈕：與新增書籍按鈕相同的綠色漸層 */
.btn-save {
  background: linear-gradient(to right, #00b894, #00cec9);
  border: none;
  color: #003d35;
  font-weight: 700;
  padding: 9px 22px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 13px;
}

.btn-cancel:hover { background: rgba(255, 255, 255, .14); }
.btn-save:hover   { opacity: .85; }